# yt-dlp configuration file
# NOTE: this is just for the Flask app.py downloader; 
# the autodownloader.sh has a separate, manually configured
# set of options

# Output directory and filename template
--output /mnt/ceph-videos/YouTube/%(uploader)s/%(title)s.%(ext)s

# Download archive to track already downloaded videos
--download-archive /app/download-archive.txt

# Thumbnails
--write-thumbnail

# Format selection (best quality)
--format bestvideo+bestaudio/best

# Merge output format
--merge-output-format mp4

# Remove Sponsor segments
--sponsorblock-remove sponsor,intro,outro,selfpromo,interaction,filler

# Extract yyyy from uploaddate for Jellyfin's Year field
--parse-metadata "%(upload_date>%Y)s:%(meta_date)s"

# Embed metadata
--embed-metadata

# Embed thumbnail in video file
--embed-thumbnail

# Embed subtitles if available
--embed-subs
--sub-langs en,en-US

# Continue on errors
--ignore-errors

# Don't overwrite files
--no-overwrites
